<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ZIBBO: Space Journey</title>
    <link rel="stylesheet" href="style.css">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script async src="https://static.adsgram.net/sdk.js"></script>
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>
        
        <div style="display:none;">
            <img id="galaxy-bg" src="galaxy_bg.png">
            <img id="ufo-1" src="ufo_ship.gif">
            <img id="ufo-2" src="ufo_ship2.gif">
            <img id="ufo-3" src="ufo_ship3.gif">
            <img id="ufo-4" src="ufo_ship4.gif">
            <img id="ufo-5" src="ufo_ship5.gif">
            <img id="star-img" src="star_pickup.png">
            <img id="ast-s-img" src="asteroid_small.png">
            <img id="ast-b-img" src="asteroid_big.png">
            <img id="ufo-icon-1" src="ufo_ship.png">
            <img id="ufo-icon-2" src="ufo_ship2.png">
            <img id="ufo-icon-3" src="ufo_ship3.png">
            <img id="ufo-icon-4" src="ufo_ship4.png">
            <img id="ufo-icon-5" src="ufo_ship5.png">
        </div>

        <div id="splash-screen" class="screen active">
            <div class="logo-container">
                <h1 class="game-logo">ZIBBO</h1>
                <p class="studio-tag">BLOCKBUSTER STUDIO INC.</p>
            </div>
            <div class="loader-spinner"></div>
            <p class="loading-text">LOADING UNIVERSE...</p>
        </div>
        
        <div id="confirm-screen" class="screen" style="background: rgba(0,0,0,0.85);">
            <div class="modal-box">
                <p>RESET PROGRESS?</p>
                <button id="confirm-yes" class="main-btn warning-btn">YES</button>
                <button id="confirm-no" class="main-btn">NO</button>
            </div>
        </div>

        <div id="menu-screen" class="screen">
            <div class="total-balance">‚≠ê <span id="total-stars-display-main">0</span></div>
            <img src="ufo_ship.png" class="logo-img animated-logo">
            <h1 class="main-title">ZIBBO</h1>
            
            <div class="menu-stack">
                <button id="play-btn" class="main-btn">PLAY</button>
                <button id="music-btn" class="secondary-btn">MUSIC OFF</button>
                <button id="new-game-btn" class="secondary-btn small-btn">RESET PROGRESS</button>
            </div>
            <p class="studio-tag">BLOCKBUSTER STUDIO INC.</p>
        </div>

        <div id="shop-screen" class="screen">
            <div class="total-balance">‚≠ê <span id="total-stars-display-shop">0</span></div>
            <h2 class="screen-title">SPACE SHOP</h2>
            <div id="shop-content" class="shop-list"></div>
            <button id="close-shop" class="main-btn back-btn">BACK</button>
        </div>

        <div id="level-screen" class="screen glass-blur">
            <h1 id="level-title">PAUSED</h1>
            
            <div id="ad-container" style="display:none; text-align:center; margin-bottom: 20px;">
                <p style="color:var(--gold); font-size: 1.2rem; margin-bottom: 10px;">ADVERTISING... <span id="ad-timer">5</span></p>
                <div class="loader-spinner"></div>
            </div>

            <div class="level-info" id="level-info-stats">
                <p>COLLECTED</p>
                <p style="font-size: 2rem;">‚≠ê <span id="level-stars">0</span></p>
            </div>

            <div class="menu-stack" id="level-btns">
                <button id="resume-btn" class="main-btn" style="display:none;">RESUME</button>
                <button id="continue-btn" class="main-btn" style="display:none;">REVIVE (AD)</button>
                
                <button id="win-next-btn" class="main-btn shop-yellow-btn" style="display:none;">CONTINUE</button>
                <button id="win-track-btn" class="main-btn shop-yellow-btn" style="display:none;">NEXT TRACK</button>
                <button id="shop-btn-pause" class="main-btn shop-yellow-btn">SHOP</button>
                <button id="home-btn-menu" class="main-btn shop-yellow-btn">MAIN MENU</button>
            </div>
            
            <div id="ad-overlay" style="display: none; position: absolute; inset: 0; background: rgba(0,0,0,0.95); z-index: 200; flex-direction: column; align-items: center; justify-content: center;">
                 <div style="color: white; font-size: 1.5rem; margin-bottom: 20px;">ADVERTISEMENT</div>
                 <div class="loader-spinner"></div>
            </div>
        </div>
        
        <div id="hud" class="hud-layer">
            <div class="glass-hud">
                <div class="hud-left">
                    <div class="hud-score">‚≠ê <span id="game-score">0</span></div>
                </div>
                <div class="hud-right">
                    <div class="lives-container" id="lives-bar"></div>
                    <div class="hud-timer"><span id="game-timer">60</span>s</div>
                    <div class="hud-level">LVL <span id="current-lvl-display">1</span></div>
                    <button id="pause-btn" class="glass-btn-square">‚è∏Ô∏è</button>
                    <button id="next-track-btn" class="glass-btn-square">üéµ</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
